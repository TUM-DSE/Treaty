export SPDK_DIR="/home/dimitra/Treaty-node/code/src/spdk_native"

all:
	g++ -std=c++17 -Wall -Wno-write-strings -O2 -I$(SPDK_DIR)/include -I../include -I/home/dimitra/Treaty-node/code/root_native/include -L../ -L/home/dimitra/Treaty-node/code/root_native/lib -O2 dummyserver2.cc message.pb.cc $(SPDK_DIR)/lib/rocksdb/env_spdk.cc  -o server_cpp -lrt -lgflags -lnuma  -Wl,--whole-archive -lspdk_copy_ioat -lspdk_ioat -Wl,--no-whole-archive  -Wl,--whole-archive -lspdk_bdev_malloc -lspdk_bdev_null -lspdk_bdev_nvme -lspdk_nvme -lspdk_vbdev_error -lspdk_vbdev_gpt -lspdk_vbdev_lvol -lspdk_vbdev_split -lspdk_blob -lspdk_blob_bdev -lspdk_lvol -lspdk_bdev_aio -lspdk_bdev_virtio -lspdk_virtio -Wl,--no-whole-archive -laio -L/home/dimitra/Treaty-node/code/src/spdk_native/build/lib -Wl,--whole-archive -lspdk_event_bdev -lspdk_event_copy -Wl,--no-whole-archive -lspdk_blobfs -lspdk_bdev -lspdk_copy -lspdk_event -lspdk_util -lspdk_conf -lspdk_trace -lspdk_log -lspdk_jsonrpc -lspdk_json -lspdk_rpc /home/dimitra/Treaty-node/code/src/spdk_native/build/lib/libspdk_env_dpdk.a -Wl,--start-group -Wl,--whole-archive /home/dimitra/Treaty-node/code/src/dpdk_native/x86_64-native-linuxapp-gcc/lib/librte_eal.a /home/dimitra/Treaty-node/code/src/dpdk_native/x86_64-native-linuxapp-gcc/lib/librte_mempool.a /home/dimitra/Treaty-node/code/src/dpdk_native/x86_64-native-linuxapp-gcc/lib/librte_ring.a /home/dimitra/Treaty-node/code/src/dpdk_native/x86_64-native-linuxapp-gcc/lib/librte_mempool_ring.a /home/dimitra/Treaty-node/code/src/dpdk_native/x86_64-native-linuxapp-gcc/lib/librte_pci.a /home/dimitra/Treaty-node/code/src/dpdk_native/x86_64-native-linuxapp-gcc/lib/librte_bus_pci.a -Wl,--end-group -Wl,--no-whole-archive -lnuma -lpthread -ldl -luuid -lgflags -lcrypto -lbotan-2 -lspdk_event_bdev -lspdk_event_copy -lspdk_blobfs -lspdk_bdev -lspdk_copy -lspdk_event -lspdk_util -lspdk_conf -lspdk_trace -lspdk_log -lspdk_jsonrpc -lspdk_json -lspdk_rpc `pkg-config --cflags --libs protobuf` -lrocksdb && ./server_cpp
